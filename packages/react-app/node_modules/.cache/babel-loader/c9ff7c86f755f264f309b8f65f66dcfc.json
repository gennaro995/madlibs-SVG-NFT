{"ast":null,"code":"var _jsxFileName = \"/Users/gennarogiordano/Desktop/dev.nosync/my-github/madlibs-SVG-NFT/packages/react-app/src/views/YourLoogies.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Card, List } from \"antd\";\nimport { Address, AddressInput } from \"../components\";\nimport { ethers } from \"ethers\";\nimport { Popup } from \"../components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Home({\n  readContracts,\n  writeContracts,\n  priceToMint,\n  yourCollectibles,\n  tx,\n  mainnetProvider,\n  blockExplorer,\n  transferToAddresses,\n  setTransferToAddresses,\n  address\n}) {\n  _s();\n\n  const [open, setOpen] = useState(false);\n\n  async function toggleProposal() {\n    setOpen(!open);\n  }\n\n  async function voteProposal(index) {\n    console.log(\"VOTO Proposta...\");\n    await tx(writeContracts.YourCollectible.voteProposal(index));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: 600,\n        margin: \"auto\",\n        paddingBottom: 25\n      },\n      children: /*#__PURE__*/_jsxDEV(List, {\n        dataSource: yourCollectibles,\n        renderItem: item => {\n          function replaceHashtag(array) {\n            let text = item.text;\n\n            for (let index = 0; index < array.length; index++) {\n              text = text.replace('#', array[index]);\n            }\n\n            return text;\n          }\n\n          function divs() {\n            console.log(\"starting divs\");\n            var parent = document.createElement(\"div\");\n            item.proposals.forEach((element, index) => {\n              let div = document.createElement(\"div\");\n              div.className = \"proposal_row\"; //Proposer: ${element[2]},\n\n              let html = `\n                  <span class=\"proposal_text\">Proposal: ${replaceHashtag(element[0])},  votes: ${element[1]}   \n                  <button type=\"primary\" id=\"prop${index}\"> Vote</button>     </span>\n                  `;\n              div.innerHTML = html;\n              parent.appendChild(div);\n            });\n            console.log(parent);\n            return parent;\n          }\n\n          function attachButton() {\n            console.log(\"initialize button\");\n            item.proposals.forEach((element, index) => {\n              document.getElementById(\"prop\" + index).onclick = function () {\n                voteProposal(index);\n              };\n\n              ;\n            });\n            console.log(\"end attachButton\");\n          }\n\n          const id = item.id.toNumber();\n          return /*#__PURE__*/_jsxDEV(List.Item, {\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              title: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: 18,\n                    marginRight: 8\n                  },\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 21\n              }, this),\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.image,\n                alt: \"Loogie #\" + id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: item.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                type: \"primary\",\n                onClick: async function (event) {\n                  await toggleProposal();\n                  document.getElementById(\"popup_box\").appendChild(divs());\n                  attachButton();\n                },\n                children: \"Show Proposals\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 19\n              }, this), open && /*#__PURE__*/_jsxDEV(Popup, {\n                handleClose: toggleProposal\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 30\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 20\n                },\n                children: [/*#__PURE__*/_jsxDEV(AddressInput, {\n                  ensProvider: mainnetProvider,\n                  placeholder: \"transfer to address\",\n                  value: transferToAddresses[id],\n                  onChange: newValue => {\n                    const update = {};\n                    update[id] = newValue;\n                    setTransferToAddresses({ ...transferToAddresses,\n                      ...update\n                    });\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: () => {\n                    tx(writeContracts.YourCollectible.transferFrom(address, transferToAddresses[id], id));\n                  },\n                  children: \"Transfer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this)\n          }, id + \"_\" + item.uri + \"_\" + item.owner, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"xG1TONbKtDWtdOTrXaTAsNhPg/Q=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/gennarogiordano/Desktop/dev.nosync/my-github/madlibs-SVG-NFT/packages/react-app/src/views/YourLoogies.jsx"],"names":["React","useCallback","useEffect","useState","Link","Button","Card","List","Address","AddressInput","ethers","Popup","Home","readContracts","writeContracts","priceToMint","yourCollectibles","tx","mainnetProvider","blockExplorer","transferToAddresses","setTransferToAddresses","address","open","setOpen","toggleProposal","voteProposal","index","console","log","YourCollectible","width","margin","paddingBottom","item","replaceHashtag","array","text","length","replace","divs","parent","document","createElement","proposals","forEach","element","div","className","html","innerHTML","appendChild","attachButton","getElementById","onclick","id","toNumber","fontSize","marginRight","name","image","description","event","marginTop","newValue","update","transferFrom","uri","owner"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Card, List } from \"antd\";\nimport { Address, AddressInput } from \"../components\";\nimport { ethers } from \"ethers\";\nimport {Popup} from \"../components\";\n\n\nfunction Home({\n  readContracts,\n  writeContracts,\n  priceToMint,\n  yourCollectibles,\n  tx,\n  mainnetProvider,\n  blockExplorer,\n  transferToAddresses,\n  setTransferToAddresses,\n  address,\n}) {\n\n  const [open, setOpen] = useState(false);\n\n  async function toggleProposal () {\n    setOpen(!open);\n  }\n\n  async function voteProposal(index) {\n    console.log(\"VOTO Proposta...\")\n    await tx(writeContracts.YourCollectible.voteProposal(index));\n  }\n\n\n  return (\n    <div>\n      <div style={{ width: 600, margin: \"auto\", paddingBottom: 25 }}>\n        <List\n          dataSource={yourCollectibles}\n          renderItem={item => {\n\n            function replaceHashtag(array) {\n              let text = item.text;\n              for (let index = 0; index < array.length; index++) {\n                text = text.replace('#',array[index])\n              }\n              return text;\n            }\n   \n            function divs(){\n              console.log(\"starting divs\");\n              var parent = document.createElement(\"div\");\n              item.proposals.forEach((element, index) =>  {\n                let div = document.createElement(\"div\")\n                div.className = \"proposal_row\"\n                //Proposer: ${element[2]},\n                let html = `\n                  <span class=\"proposal_text\">Proposal: ${replaceHashtag(element[0])},  votes: ${element[1]}   \n                  <button type=\"primary\" id=\"prop${index}\"> Vote</button>     </span>\n                  `;\n                div.innerHTML = html;\n                parent.appendChild(div);\n\n              })  \n              console.log(parent);\n              return parent;\n            }\n            function attachButton(){\n              console.log(\"initialize button\");\n              item.proposals.forEach((element, index) =>  {\n                document.getElementById(\"prop\"+index).onclick = function(){voteProposal(index)};;\n              })  \n              console.log(\"end attachButton\");\n            }\n            const id = item.id.toNumber();\n     \n\n            return (\n              <List.Item key={id + \"_\" + item.uri + \"_\" + item.owner}>\n                <Card\n                  title={\n                    <div>\n                      <span style={{ fontSize: 18, marginRight: 8 }}>{item.name}</span>\n                    </div>\n                  }\n                >\n                  <img src={item.image} alt={\"Loogie #\" + id} />\n                  <div>{item.description}</div>\n                  <Button type=\"primary\" onClick={async function(event){\n                                await toggleProposal(); \n                                document.getElementById(\"popup_box\").appendChild(divs())\n                                attachButton();\n                              }\n                            \n                            }>\n                      Show Proposals\n                    </Button>\n                    {open && <Popup                        \n                              handleClose={toggleProposal}\n                          />}\n\n                  <div style={{ marginTop: 20 }}>\n                    <AddressInput\n                      ensProvider={mainnetProvider}\n                      placeholder=\"transfer to address\"\n                      value={transferToAddresses[id]}\n                      onChange={newValue => {\n                        const update = {};\n                        update[id] = newValue;\n                        setTransferToAddresses({ ...transferToAddresses, ...update });\n                      }}\n                    />\n                    <Button\n                      onClick={() => {\n                        tx(writeContracts.YourCollectible.transferFrom(address, transferToAddresses[id], id));\n                      }}\n                    >\n                      Transfer\n                    </Button>\n                  </div>\n                </Card>\n                \n              </List.Item>\n            );\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}